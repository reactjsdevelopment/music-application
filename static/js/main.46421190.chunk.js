(this["webpackJsonpspotify-music-search-app"]=this["webpackJsonpspotify-music-search-app"]||[]).push([[0],{50:function(e,t,a){e.exports=a.p+"static/media/music.1b265192.jpeg"},51:function(e,t,a){e.exports=a(85)},80:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=a(20),l=a(18),u=a(49),o=a(21),m=a(22),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.artists;switch(t.type){case"SET_ARTISTS":return a;case"ADD_ARTISTS":return Object(m.a)(Object(m.a)({},e),{},{next:a.hits,hits:[].concat(Object(o.a)(e.hits),Object(o.a)(a.hits))});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.playlists;switch(t.type){case"SET_PLAYLIST":return a;case"ADD_PLAYLIST":return Object(m.a)(Object(m.a)({},e),{},{next:a.hits,hits:[].concat(Object(o.a)(e.hits),Object(o.a)(a.hits))});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.songLists;switch(t.type){case"SET_SUGGESTION":return a;default:return e}},h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,b=Object(l.e)(Object(l.c)({artists:p,playlist:d,suggestions:f}),h(Object(l.a)(u.a))),E=a(28),v=a(29),y=a(31),g=a(30),O=a(17),j=a(5),S=Object(i.b)()((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{to:"/dashboard"}))})),k=a(11),T=a.n(k),w=a(6),x=a(16),L=a.n(x),N=function(){try{L.a.defaults.headers.common["X-RapidAPI-Key"]="cbb5b0130dmsh1b81b5fae335c3ap18099fjsn74cc5d7826e0",L.a.defaults.headers.common["x-rapidapi-host"]="shazam.p.rapidapi.com"}catch(e){console.log("Error setting auth",e)}},C=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.setExpiryTime,e.history),a=e.location;try{if(T.a.isEmpty(a.hash))return t.push("/dashboard");t.push("/dashboard")}catch(n){t.push("/")}}},{key:"render",value:function(){return null}}]),a}(r.a.Component),I=a(7),_=a.n(I),A=a(12),D=function(){var e=Object(A.a)(_.a.mark((function e(t,a){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(),e.next=3,L.a.get(t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(e){return{type:"SET_ARTISTS",artists:e}},R=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:return n=t.sent,t.abrupt("return",a({type:"ADD_ARTISTS",artists:n.artists}));case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(A.a)(_.a.mark((function t(a){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:return n=t.sent,t.abrupt("return",a({type:"ADD_PLAYLIST",playlists:n.tracks}));case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},F=a(88),M=a(87),G=a(50),B=a.n(G),z=function(e){var t=e.artists;return r.a.createElement(r.a.Fragment,null,Object.keys(t).length>0&&r.a.createElement("div",{className:"artists"},t.hits.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement("a",{target:"_blank",href:"#",rel:"noopener noreferrer",className:"card-image-link"},T.a.isEmpty(e.artist.avatar)?r.a.createElement("img",{src:B.a,alt:""}):r.a.createElement(M.a.Img,{variant:"top",src:e.artist.avatar,alt:""})),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,e.artist.name))))}))))},Y=(a(80),function(e){var t=function(e){var t=Object(n.useState)(new Audio(e)),a=Object(w.a)(t,1)[0],r=Object(n.useState)(!1),c=Object(w.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){s?a.play():a.pause()}),[s]),Object(n.useEffect)((function(){return a.addEventListener("ended",(function(){return i(!1)})),function(){a.removeEventListener("ended",(function(){return i(!1)}))}}),[]),[s,function(){return i(!s)}]}(e.url),a=Object(w.a)(t,2),c=a[0],s=a[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:s,className:"btn-player"},c?"Pause":"Play"))}),X=function(e){var t=e.isDataSet;return r.a.createElement("div",null,r.a.createElement("h1",{className:"main-heading"},"Song Details"),r.a.createElement("p",null,t.track.title),r.a.createElement("p",null,"song lyrics"),r.a.createElement(Y,{url:t.track.hub.actions[1].uri}))},J=function(e){var t=e.playlist,a=Object(n.useState)(!1),c=Object(w.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)([]),u=Object(w.a)(l,2),o=u[0],m=u[1];return r.a.createElement("div",null,s&&r.a.createElement(X,{isDataSet:o}),Object.keys(t).length>0&&r.a.createElement("div",{className:"playlist"},t.hits.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(M.a,{style:{width:"18rem"}},r.a.createElement(M.a.Img,{variant:"top",src:e.track.images.background,alt:"",onClick:function(){return m(e),void i(!0)}}),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Title,null,e.track.title),r.a.createElement(M.a.Text,null,r.a.createElement("small",null,"By ",e.track.hub.displayname)))))}))))},V=function(e){e.isValidSession;var t=e.loadMore,a=e.result,n=e.setCategory,c=e.selectedCategory,s=a.artists,i=a.playlist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-buttons"},!T.a.isEmpty(i.hits)&&r.a.createElement("button",{className:"".concat("playlist"===c?"btn active":"btn"),onClick:function(){return n("playlist")}},"PlayLists"),!T.a.isEmpty(s.hits)&&r.a.createElement("button",{className:"".concat("artists"===c?"btn active":"btn"),onClick:function(){return n("artists")}},"Artists")),r.a.createElement("div",{className:"".concat("artists"===c?"":"hide")},s&&r.a.createElement(z,{artists:s})),r.a.createElement("div",{className:"".concat("playlist"===c?"":"hide")},i&&r.a.createElement(J,{playlist:i})),!T.a.isEmpty(a[c])&&!T.a.isEmpty(a[c])&&r.a.createElement("div",{className:"load-more",onClick:function(){return t(c)}},r.a.createElement(F.a,{variant:"info",type:"button"},"Load More")))},q=a(86),H=(a(81),function(e){var t,a=Object.assign({},e);return T.a.isEmpty(a.props.result.suggestions)||(t=a.props.result.suggestions),H=t&&t.length?r.a.createElement("ul",{className:"suggestions"},t.map((function(e,t){return r.a.createElement("li",{className:void 0,key:e.term},e.term)}))):r.a.createElement("div",{className:"no-suggestions"},r.a.createElement("em",null,"No suggestions, you're on your own!"))}),K=H,Q=function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(w.a)(i,2),u=l[0],o=l[1],m=Object(n.useState)(!0),p=Object(w.a)(m,2),d=p[0],f=p[1];return r.a.createElement("div",null,r.a.createElement(q.a,{onSubmit:function(t){t.preventDefault(),""!==c.trim()?(o(""),f(!1),e.handleSearch(c)):o("Please enter a search term.")}},u&&r.a.createElement("p",{className:"errorMsg"},u),r.a.createElement(q.a.Group,{controlId:"formBasicEmail"},r.a.createElement(q.a.Label,null,"Enter search term"),r.a.createElement(q.a.Control,{type:"search",name:"searchTerm",value:c,placeholder:"Search for album, artist or playlist",onChange:function(t){var a=t.target.value;s(a),f(!0),e.handleSuggestion(a)},autoComplete:"off"}),d&&r.a.createElement(K,{props:e})),r.a.createElement(F.a,{variant:"info",type:"submit"},"Search")))},W=function(){return r.a.createElement("h1",{className:"main-heading"},"Music Search")},Z=function(e){var t=Object(n.useState)(document.createElement("div")),a=Object(w.a)(t,1)[0],r=document.querySelector("#loader");return Object(n.useEffect)((function(){r.appendChild(a).classList.add("message")}),[r,a]),Object(n.useEffect)((function(){e.show?(r.classList.remove("hide"),document.body.classList.add("loader-open")):(r.classList.add("hide"),document.body.classList.remove("loader-open"))}),[r,e.show]),s.a.createPortal(e.children,a)},$=Object(i.b)((function(e){return{artists:e.artists,playlist:e.playlist,suggestions:e.suggestions}}))((function(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)("playlist"),l=Object(w.a)(i,2),u=l[0],o=l[1],m=Object(n.useState)("hints"),p=Object(w.a)(m,2),d=(p[0],p[1]),f=Object(n.useState)(""),h=Object(w.a)(f,2),b=h[0],E=h[1],v=function(){var t=Object(A.a)(_.a.mark((function t(a){var n,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.dispatch,s(!0),r="https://shazam.p.rapidapi.com/search?term=".concat(encodeURIComponent(b),"&locale=en-US&offset=1&limit=5"),t.t0=a,t.next="artists"===t.t0?6:"playlist"===t.t0?9:12;break;case 6:return t.next=8,n(R(r));case 8:return t.abrupt("break",12);case 9:return t.next=11,n(U(r));case 11:return t.abrupt("break",12);case 12:s(!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y={artists:e.artists,playlist:e.playlist,suggestions:e.suggestions};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(Q,{handleSearch:function(t){E(t),s(!0),e.dispatch(function(e){return function(){var t=Object(A.a)(_.a.mark((function t(a){var n,r,c,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="https://shazam.p.rapidapi.com/search?term=".concat(encodeURIComponent(e),"&locale=en-US&offset=0&limit=5"),t.next=4,D(n);case 4:return r=t.sent,c=r.artists,s=r.tracks,a({type:"SET_PLAYLIST",playlists:s}),t.abrupt("return",a(P(c)));case 10:t.prev=10,t.t0=t.catch(0),console.log("error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){s(!1),o("playlist")}))},handleSuggestion:function(t){e.dispatch(function(e){return function(){var t=Object(A.a)(_.a.mark((function t(a){var n,r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="https://shazam.p.rapidapi.com/auto-complete?term=".concat(encodeURIComponent(e),"&locale=en-US"),t.next=4,D(n);case 4:return r=t.sent,c=r.hints,t.abrupt("return",a({type:"SET_SUGGESTION",songLists:c}));case 9:t.prev=9,t.t0=t.catch(0),console.log("error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){d("hints")}))},result:y}),r.a.createElement(Z,{show:c},"Loading..."),r.a.createElement(V,{result:y,loadMore:v,setCategory:function(e){o(e)},selectedCategory:u})))})),ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),"Page not found. Goto ",r.a.createElement(O.b,{to:"/dashboard"},"Home Page"))},te=function(e){Object(y.a)(a,e);var t=Object(g.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement("div",{className:"main"},r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/",exact:!0,render:function(e){return r.a.createElement(S,e)}}),r.a.createElement(j.b,{path:"/redirect",render:function(e){return r.a.createElement(C,e)}}),r.a.createElement(j.b,{path:"/dashboard",render:function(e){return r.a.createElement($,e)}}),r.a.createElement(j.b,{component:ee}))))}}]),a}(r.a.Component);a(83),a(84);s.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(te,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.46421190.chunk.js.map